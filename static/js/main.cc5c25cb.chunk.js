(this["webpackJsonpanother-todo-list"]=this["webpackJsonpanother-todo-list"]||[]).push([[0],{170:function(e,t,a){e.exports=a(308)},176:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(31),r=a.n(o),s=(a(175),a(12)),l=(a(176),a(32)),i=a(321),u=a(316),d=a(323),m=a(318),f=a(309),p=a(319),b=a(69),O=a(9),j=a(146),E=a.n(j).a.create({baseURL:" https://jsonplaceholder.typicode.com"});function v(e){var t=Object(n.useState)({users:[]}),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){0===c.users.length&&E.get("/users").then((function(e){var t=e.data.map((function(e){var t={};return t.key=e.id,t.value=e.name,t.text=e.name,t}));o(Object(O.a)(Object(O.a)({},c),{},{users:t}))}))}),[]),e.children(c.users)}var h=a(315),g=a(317),_=a(48),T=a.n(_);function k(e){var t=e.setOpen,a=e.addTodo,o=(Object(l.a)(e,["setOpen","addTodo"]),Object(n.useState)({title:"",user:"",userId:"",error:!1,errorField:"",errorMsg:""})),r=Object(s.a)(o,2),i=r[0],u=r[1],d=function(e){if(e.preventDefault(),!i.user)return u(Object(O.a)(Object(O.a)({},i),{},{error:!0,errorField:"user",errorMsg:"This field is required"}));!function(){var e=Object(O.a)({},i),n=e.userId,c=e.title,o=Object.assign({},{userId:n,title:c,completed:!1});t(!1),a(o)}()},p=function(e,t){var a=t.options.filter((function(e){return e.text===t.value}))[0].key;u(Object(O.a)(Object(O.a)({},i),{},{user:t.value,userId:a}))};return Object(n.useEffect)((function(){u(Object(O.a)(Object(O.a)({},i),{},{error:!1,errorField:"",errorMsg:""}))}),[i.user]),c.a.createElement("form",{onSubmit:function(e){d(e)}},c.a.createElement("div",{className:"inputs"},c.a.createElement(h.a,{className:T.a.inputs,value:i.text,onChange:function(e){!function(e){var t=e.name,a=e.value;Object(l.a)(e,["name","value"]);u(Object(O.a)(Object(O.a)({},i),{},Object(b.a)({},t,a)))}(e.target)},name:"title",placeholder:"What need to do?",required:!0})),c.a.createElement("div",{className:"inputs"},c.a.createElement(v,null,(function(e){return c.a.createElement(g.a,{onChange:p,className:"".concat(T.a.select," ").concat("user"===i.errorField?T.a.user:""),name:"user",placeholder:"Assign to",options:e,value:i.user,required:!0})})),i.error&&"user"===i.errorField&&c.a.createElement("span",{className:T.a.errorMsg},i.errorMsg)),c.a.createElement("div",{className:"btn-area"},c.a.createElement(m.a.Actions,null,c.a.createElement(f.a,{color:"black",onClick:function(){return t(!1)}},"Cancel"),c.a.createElement(f.a,{content:"Save",labelPosition:"right",icon:"checkmark",positive:!0}))))}var C=a(98),N=a.n(C),I=a(77),P=a.n(I),S=a(25);function F(e){var t=e.updatePost,a=e.id,o=e.completed,r=e.title,d=e.deleteTodo,m=(Object(l.a)(e,["updatePost","id","completed","title","deleteTodo"]),Object(n.useState)(!1)),f=Object(s.a)(m,2),b=f[0],O=f[1];Object(n.useEffect)((function(){O(!1)}),[o]);var j=function(e){e.stopPropagation(),"I"===e.target.tagName?(console.log(4),d(a)):(console.log(5),function(e,a){O(!0),t(e,a)}(a,!o))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a.Item,{className:P.a.item,onClick:function(e){j(e)}},c.a.createElement(i.a,{active:!0===b,inverted:!0},c.a.createElement(u.a,{size:"mini"},"Loading...")),c.a.createElement("div",{className:"status"},o?c.a.createElement(S.a,{name:"chevron circle down"}):""),c.a.createElement(p.a.Content,{className:P.a.itemContent},c.a.createElement("span",{className:P.a.itemTitle},r),c.a.createElement(S.a,{name:"trash",onClick:function(e){j(e)}}))))}function x(e){var t=e.updatePost,a=e.fetching,o=e.addTodo,r=e.deleteTodo,b=Object(l.a)(e,["updatePost","fetching","addTodo","deleteTodo"]),O=Object(n.useState)(!1),j=Object(s.a)(O,2),E=j[0],v=j[1],h=Object(n.useState)([]),g=Object(s.a)(h,2),_=g[0],T=g[1],C=Object(n.useContext)(L);Object(n.useEffect)((function(){b.posts.length>0&&T(b.posts)}),[b.posts,a]);return c.a.createElement("div",{className:N.a.list},c.a.createElement(i.a,{active:!0===a,inverted:!0},c.a.createElement(u.a,{size:"mini"},"Loading...")),c.a.createElement("div",{className:N.a.title},c.a.createElement("div",{className:"theme"},c.a.createElement("label",null,"Dark theme"),c.a.createElement(d.a,{toggle:!0,onChange:function(e,t){t.checked?C.setTheme("dark"):C.setTheme("light")}})),c.a.createElement("h3",null,"TodoList"),c.a.createElement(m.a,{onClose:function(){return v(!1)},onOpen:function(){return v(!0)},open:E,trigger:c.a.createElement(f.a,null,"Create Task")},c.a.createElement(m.a.Header,null,"Create new task"),c.a.createElement(m.a.Content,{image:!0},E&&c.a.createElement(k,{setOpen:v,addTodo:o})))),c.a.createElement(p.a,{celled:!0},_.map((function(e){return c.a.createElement(F,Object.assign({key:e.id,deleteTodo:r,updatePost:t},e))}))))}var M=a(159);function y(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)({posts:[],activeId:""}),l=Object(s.a)(r,2),i=l[0],u=l[1];Object(n.useEffect)((function(){0===i.posts.length&&E.get("/todos").then((function(e){u(Object(O.a)(Object(O.a)({},i),{},{posts:e.data}))}))}),[]);return e.children(i.posts,(function(e,t){u(Object(O.a)(Object(O.a)({},i),{},{activeId:e})),E.patch("/todos/".concat(e),{name:t}).then((function(a){var n=i.posts.map((function(a){return a.id===e&&(a.completed=t),a}));u(Object(O.a)(Object(O.a)({},i),{},{updatedPosts:n}))})).catch((function(e){console.log(e)}))}),(function(e){o(!0),E.post("/todos",e).then((function(e){var t=e.data,a=Object(M.a)(i.posts);a.unshift(t),o(!1),u(Object(O.a)(Object(O.a)({},i),{},{posts:a}))})).catch((function(e){console.log(e)}))}),c,(function(e){console.log("delete",e),o(!0),E.delete("/todos/".concat(e)).then((function(t){var a=i.posts.filter((function(t){return e!==t.id}));u(Object(O.a)(Object(O.a)({},i),{},{posts:a})),o(!1)})).catch((function(e){console.log(e)}))}))}var L=c.a.createContext(),q=function(){var e=Object(n.useState)("light"),t=Object(s.a)(e,2),a=t[0],o=t[1];return c.a.createElement(L.Provider,{value:{theme:a,setTheme:o}},c.a.createElement("div",{className:"App ".concat(a)},c.a.createElement(y,null,(function(e,t,a,n,o){return c.a.createElement(x,{deleteTodo:o,fetching:n,updatePost:t,posts:e,addTodo:a})}))))};a(307);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root"))},48:function(e,t,a){e.exports={inputs:"Form_inputs__m9Eq4",select:"Form_select__31qyN",user:"Form_user__1B5pk",errorMsg:"Form_errorMsg__1f2yI"}},77:function(e,t,a){e.exports={item:"TodoItem_item__2olry",itemTitle:"TodoItem_itemTitle__ni7aW",itemContent:"TodoItem_itemContent__2praX"}},98:function(e,t,a){e.exports={list:"PostList_list__30Rk-",title:"PostList_title__20MXp"}}},[[170,1,2]]]);
//# sourceMappingURL=main.cc5c25cb.chunk.js.map