{"version":3,"sources":["components/apiClient.js","components/Providers/UsersProvider.jsx","components/Form/Form.jsx","components/TodoItem/TodoItem.jsx","components/PostsList/PostList.jsx","components/PostsList/PostProvider.jsx","App.js","index.js","components/Form/Form.module.css","components/TodoItem/TodoItem.module.css","components/PostsList/PostList.module.css"],"names":["apiClient","axios","create","baseURL","UsersProvider","props","useState","users","data","setData","useEffect","length","get","then","res","usersList","map","item","user","key","id","value","name","text","children","Form","setOpen","addTodo","title","userId","error","errorField","errorMsg","handleSubmit","e","preventDefault","todo","Object","assign","completed","handleSelect","obj","target","options","filter","onSubmit","className","Input","styles","inputs","onChange","handleChange","placeholder","required","Select","select","Modal","Actions","Button","color","onClick","content","labelPosition","icon","positive","TodoItem","updatePost","deleteTodo","loading","isLoading","handleAction","stopPropagation","tagName","console","log","status","updateStatus","List","Item","Dimmer","active","inverted","Loader","size","Icon","Content","itemContent","itemTitle","PostList","fetching","open","posts","setPost","themeContext","useContext","ThemeContext","list","Radio","toggle","event","checked","setTheme","onClose","onOpen","trigger","Header","image","celled","post","PostProvider","isFetching","activeId","patch","updatedPosts","catch","response","unshift","delete","React","createContext","App","theme","Provider","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.cc5c25cb.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst apiClient = axios.create({\nbaseURL:' https://jsonplaceholder.typicode.com'\n});\nexport default apiClient;","import {useState, useEffect} from 'react';\nimport apiClient from '../apiClient'\n\nexport default function UsersProvider (props) {\n      const [data,setData] = useState({\n            users:[]\n      })\n      useEffect(() => {\n\n            if (data.users.length === 0) {\n                  apiClient.get('/users').\n                  then( res => {\n                        //normalizeData\n                        const usersList = res.data.map( (item) => {\n                              const user = {};\n                              user.key = item.id;\n                              user.value = item.name;\n                              user.text = item.name;\n                              return user;\n                        })\n                         setData({...data, users:usersList})\n                    })\n            }\n      }, [])\n\n      return props.children(data.users)\n}\n\n\n\n","import React, {useState, useEffect} from 'react';\nimport UsersProvider from '../../components/Providers/UsersProvider'\nimport { Button, Modal,Input,Select } from 'semantic-ui-react';\nimport styles from './Form.module.css';\n\n\n\nexport default function Form ({setOpen,addTodo, ...props}) {\n    const [data,setData] = useState({\n        title:'',\n        user:'',\n        userId:'',\n        error:false,\n        errorField:\"\",\n        errorMsg:\"\",\n\n    })\n   const create = () => {\n      const {userId,title} = {...data};\n      const todo = Object.assign({}, {userId,title,completed:false});\n      setOpen(false)\n      addTodo(todo)\n   }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (!data.user) {//Required field is empty\n          return setData({...data, error:true, errorField:'user', errorMsg:'This field is required'});\n        } \n        create();  \n    }\n    const handleChange = ({name,value, ...target}) => {\n        setData({...data, [name]:value})\n    }\n    const handleSelect = (obj,target) =>  {\n        let usersList = target.options;\n        const user = usersList.filter( item => item.text === target.value);\n        const userId = user[0].key;\n        setData({...data, user:target.value,userId})\n    }\n\n    useEffect( () => {\n      //Clear errors\n      setData({...data,error:false, errorField:'', errorMsg:'' });\n    }, [data.user]);\n    \n    return (\n        <form onSubmit={(e) => {handleSubmit(e)}}>\n              <div className=\"inputs\">\n                <Input className={styles.inputs}\n                       value={data.text} \n                       onChange={(e)=>{handleChange(e.target)}} \n                       name=\"title\" \n                       placeholder=\"What need to do?\"\n                       required={true} \n                />\n              </div>\n              <div className=\"inputs\">\n                <UsersProvider>\n                 {(usersList) =>  <Select \n                                         onChange={handleSelect}\n                                         className={`${styles.select} ${data.errorField === 'user' ? styles.user : '' }`} \n                                         name=\"user\" placeholder='Assign to'  \n                                         options={usersList}\n                                         value={data.user} \n                                         required={true}\n                                         /> }\n                </UsersProvider>\n                 {data.error && data.errorField === 'user' && <span className={styles.errorMsg}>{data.errorMsg}</span> }\n              </div>\n              <div className=\"btn-area\">\n                <Modal.Actions>\n                    <Button color='black' onClick={() => setOpen(false)}>\n                     Cancel\n                   </Button>\n                   <Button\n                         content=\"Save\"\n                         labelPosition='right'\n                         icon='checkmark'\n                         positive\n                   />\n               </Modal.Actions>\n              </div>\n          </form>\n      )\n}","import React, {useState, useEffect} from 'react';\nimport styles from '../TodoItem/TodoItem.module.css'\nimport { Icon, List, Container,Dimmer,Loader} from 'semantic-ui-react';\n\nexport default function TodoItem({updatePost, id, completed, title, deleteTodo,  ...props}) {\n    const [loading,isLoading] = useState(false);\n\n\n    const updateStatus = (id,status) => {\n        isLoading(true);\n        updatePost(id,status)\n    }\n\n    useEffect( () => {\n      isLoading(false)\n    },[completed])\n  \n    const handleAction = (e) => {\n        e.stopPropagation();\n\n        if (e.target.tagName === 'I') {\n            console.log(4);\n                deleteTodo(id)\n        } else {\n            console.log(5);\n            updateStatus(id,!completed)\n        }\n        \n    }\n    return (\n        <>\n            \n            <List.Item  \n                className={styles.item} \n                onClick={(e) =>{handleAction(e)}}\n                >\n                <Dimmer active={loading === true} inverted>\n                        <Loader size=\"mini\">Loading...</Loader>\n                </Dimmer>\n                <div className=\"status\">\n                    {completed ? <Icon name=\"chevron circle down\"/> : '' } \n                </div>\n                <List.Content className={styles.itemContent}>\n                    <span className={styles.itemTitle}>{title}</span>\n                    <Icon name=\"trash\" onClick={(e) =>{handleAction(e)}}/>\n                </List.Content>\n            </List.Item>\n        </>\n    )\n}\n","import React, {useState, useEffect,useContext} from 'react'\nimport { List, Button, Modal, Dimmer,Loader, Radio} from 'semantic-ui-react';\nimport Form from '../../components/Form/Form'\nimport styles from './PostList.module.css'\nimport TodoItem from '../TodoItem/TodoItem'\nimport {ThemeContext} from '.././../App'\n\nexport default function PostList({updatePost,fetching,addTodo,deleteTodo, ...props}) {\n    \n    const [open, setOpen] = useState(false);\n    const [posts,setPost] = useState([])\n    const themeContext = useContext(ThemeContext) \n\n    useEffect( () => {\n   \n        if (props.posts.length > 0) {\n            setPost(props.posts)\n        }     \n    }, [props.posts,fetching])\n\n    const handleChange = (event,target) => {\n        if (target.checked) {\n            themeContext.setTheme('dark')\n        } else {\n            themeContext.setTheme('light')\n        }\n    }\n  \n    return ( \n         <div className={styles.list}>\n             <Dimmer active={fetching === true} inverted>\n                        <Loader size=\"mini\">Loading...</Loader>\n                </Dimmer>\n             <div className={styles.title}>\n                <div className=\"theme\">\n                    <label >Dark theme</label>\n                    <Radio toggle onChange={handleChange} />\n                </div>\n                 <h3>TodoList</h3>\n                 <Modal\n                    onClose={() => setOpen(false)}\n                    onOpen={() => setOpen(true)}\n                    open={open}\n                    trigger={<Button>Create Task</Button>}\n                >\n                <Modal.Header>Create new task</Modal.Header>\n                <Modal.Content image>\n                    { open && <Form setOpen={setOpen} addTodo={addTodo}/> }\n                </Modal.Content>\n                </Modal>\n             </div>\n            <List celled >\n                { posts.map( post => <TodoItem  key={post.id} deleteTodo={deleteTodo} updatePost={updatePost} {...post}/>) }\n            </List>\n         </div>\n    )\n}\n","import {useState, useEffect}from 'react'\nimport apiClient from '../apiClient'\n\nexport default function PostProvider(props) {\n    const [fetching,isFetching] =  useState(false)\n    const [data,setData] = useState({\n        posts:[],\n        activeId:''\n})\nuseEffect( () => {\n\n  if (data.posts.length === 0) {\n    apiClient.get('/todos').\n    then( res => {\n        setData({...data, posts:res.data})\n    })\n  }\n  \n}, []);\nconst addTodo = (todo) => {\n      isFetching(true);\n      apiClient.post('/todos',todo)\n      .then( (response) => {\n        const todo = response.data;\n        const posts = [...data.posts];\n        posts.unshift(todo);\n        isFetching(false)\n        setData({...data,posts})\n      })\n      .catch(function (error) {\n        console.log(error);\n      }) \n}\nconst deleteTodo = (id) => {\n  console.log('delete', id)\n  isFetching(true);\n  apiClient.delete(`/todos/${id}`)\n  .then( (response) => {\n    const posts = data.posts.filter( todo => id !== todo.id);\n    setData({...data, posts})\n    isFetching(false)\n  })\n  .catch(function (error) {\n    console.log(error);\n  }) \n}\n\nconst updatePost = (id, status) => {\n    setData({...data, activeId:id});\n     apiClient.patch(`/todos/${id}`, {name:status})\n     .then(res => {\n        const updatedPosts = data.posts.map( (post) => {\n            if (post.id === id) {\n                post.completed = status;\n            }\n            return post;\n        });\n        setData({...data,updatedPosts})     \n     })\n     .catch(error => {\n        console.log(error);\n      })\n}\n  return props.children(data.posts, updatePost,addTodo, fetching, deleteTodo)\n}\n","import React, { useState} from 'react'; \nimport './App.css';\nimport PostList from './components/PostsList/PostList';\nimport PostProvider from './components/PostsList/PostProvider';\n\nexport const ThemeContext = React.createContext();\n\nconst App = () => {\n  const [theme,setTheme] = useState('light')\n  return (\n    <ThemeContext.Provider value={{theme, setTheme}}>\n      <div className={`App ${theme}`}>\n        <PostProvider>\n          { (posts,updatePost,addTodo,fetching,deleteTodo) => <PostList  deleteTodo={deleteTodo} fetching={fetching} updatePost={updatePost}  posts={posts} addTodo={addTodo}/> }\n        </PostProvider>\n      </div>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs\":\"Form_inputs__m9Eq4\",\"select\":\"Form_select__31qyN\",\"user\":\"Form_user__1B5pk\",\"errorMsg\":\"Form_errorMsg__1f2yI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TodoItem_item__2olry\",\"itemTitle\":\"TodoItem_itemTitle__ni7aW\",\"itemContent\":\"TodoItem_itemContent__2praX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"PostList_list__30Rk-\",\"title\":\"PostList_title__20MXp\"};"],"sourceRoot":""}