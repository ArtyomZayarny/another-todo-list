{"version":3,"sources":["components/apiClient.js","components/Providers/UsersProvider.jsx","components/Form/Form.jsx","components/TodoItem/TodoItem.jsx","components/PostsList/PostList.jsx","components/PostsList/PostProvider.jsx","App.js","index.js","components/Form/Form.module.css","components/TodoItem/TodoItem.module.css","components/PostsList/PostList.module.css"],"names":["apiClient","axios","create","baseURL","UsersProvider","props","useState","users","data","setData","useEffect","length","get","then","res","usersList","map","item","user","key","id","value","name","text","children","Form","setOpen","addTodo","title","userId","error","errorField","errorMsg","handleSubmit","e","preventDefault","todo","Object","assign","completed","handleSelect","obj","target","options","filter","onSubmit","className","Input","styles","inputs","onChange","handleChange","placeholder","required","Select","select","Modal","Actions","Button","color","onClick","content","labelPosition","icon","positive","TodoItem","updatePost","loading","isLoading","List","Item","status","updateStatus","Dimmer","active","inverted","Loader","size","Icon","Content","itemContent","itemTitle","PostList","fetching","open","posts","setPost","themeContext","useContext","ThemeContext","list","Radio","toggle","event","checked","setTheme","onClose","onOpen","trigger","Header","image","celled","post","PostProvider","isFetching","activeId","patch","updatedPosts","catch","console","log","response","unshift","React","createContext","App","theme","Provider","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b2ea1906.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst apiClient = axios.create({\nbaseURL:' https://jsonplaceholder.typicode.com'\n});\nexport default apiClient;","import {useState, useEffect} from 'react';\nimport apiClient from '../apiClient'\n\nexport default function UsersProvider (props) {\n      const [data,setData] = useState({\n            users:[]\n      })\n      useEffect(() => {\n\n            if (data.users.length === 0) {\n                  apiClient.get('/users').\n                  then( res => {\n                        //normalizeData\n                        const usersList = res.data.map( (item) => {\n                              const user = {};\n                              user.key = item.id;\n                              user.value = item.name;\n                              user.text = item.name;\n                              return user;\n                        })\n                         setData({...data, users:usersList})\n                    })\n            }\n      }, [])\n\n      return props.children(data.users)\n}\n\n\n\n","import React, {useState, useEffect} from 'react';\nimport UsersProvider from '../../components/Providers/UsersProvider'\nimport { Button, Modal,Input,Select } from 'semantic-ui-react';\nimport styles from './Form.module.css';\n\n\n\nexport default function Form ({setOpen,addTodo, ...props}) {\n    const [data,setData] = useState({\n        title:'',\n        user:'',\n        userId:'',\n        error:false,\n        errorField:\"\",\n        errorMsg:\"\",\n\n    })\n   const create = () => {\n      const {userId,title} = {...data};\n      const todo = Object.assign({}, {userId,title,completed:false});\n      setOpen(false)\n      addTodo(todo)\n   }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (!data.user) {//Required field is empty\n          return setData({...data, error:true, errorField:'user', errorMsg:'This field is required'});\n        } \n        create();  \n    }\n    const handleChange = ({name,value, ...target}) => {\n        setData({...data, [name]:value})\n    }\n    const handleSelect = (obj,target) =>  {\n        let usersList = target.options;\n        const user = usersList.filter( item => item.text === target.value);\n        const userId = user[0].key;\n        setData({...data, user:target.value,userId})\n    }\n\n    useEffect( () => {\n      //Clear errors\n      setData({...data,error:false, errorField:'', errorMsg:'' });\n    }, [data.user]);\n    \n    return (\n        <form onSubmit={(e) => {handleSubmit(e)}}>\n              <div className=\"inputs\">\n                <Input className={styles.inputs}\n                       value={data.text} \n                       onChange={(e)=>{handleChange(e.target)}} \n                       name=\"title\" \n                       placeholder=\"What need to do?\"\n                       required={true} \n                />\n              </div>\n              <div className=\"inputs\">\n                <UsersProvider>\n                 {(usersList) =>  <Select \n                                         onChange={handleSelect}\n                                         className={`${styles.select} ${data.errorField === 'user' ? styles.user : '' }`} \n                                         name=\"user\" placeholder='Assign to'  \n                                         options={usersList}\n                                         value={data.user} \n                                         required={true}\n                                         /> }\n                </UsersProvider>\n                 {data.error && data.errorField === 'user' && <span className={styles.errorMsg}>{data.errorMsg}</span> }\n              </div>\n              <div className=\"btn-area\">\n                <Modal.Actions>\n                    <Button color='black' onClick={() => setOpen(false)}>\n                     Cancel\n                   </Button>\n                   <Button\n                         content=\"Save\"\n                         labelPosition='right'\n                         icon='checkmark'\n                         positive\n                   />\n               </Modal.Actions>\n              </div>\n          </form>\n      )\n}","import React, {useState, useEffect} from 'react';\nimport styles from '../TodoItem/TodoItem.module.css'\nimport { Icon, List, Container,Dimmer,Loader} from 'semantic-ui-react';\n\nexport default function TodoItem({updatePost, id, completed, title, ...props}) {\n    const [loading,isLoading] = useState(false);\n\n\n    const updateStatus = (id,status) => {\n        isLoading(true);\n        updatePost(id,status)\n    }\n\n    useEffect( () => {\n      isLoading(false)\n    },[completed])\n  \n    return (\n        <>\n            \n            <List.Item  \n                className={styles.item} \n                onClick={() =>{updateStatus(id,!completed)}}\n                >\n                <Dimmer active={loading === true} inverted>\n                        <Loader size=\"mini\">Loading...</Loader>\n                </Dimmer>\n                <div className=\"status\">\n                    {completed ? <Icon name=\"chevron circle down\"/> : '' } \n                </div>\n                <List.Content className={styles.itemContent}>\n                    <span className={styles.itemTitle}>{title}</span>\n                    <Icon name=\"trash\"/>\n                </List.Content>\n            </List.Item>\n        </>\n    )\n}\n","import React, {useState, useEffect,useContext} from 'react'\nimport { List, Button, Modal, Dimmer,Loader, Radio} from 'semantic-ui-react';\nimport Form from '../../components/Form/Form'\nimport styles from './PostList.module.css'\nimport TodoItem from '../TodoItem/TodoItem'\nimport {ThemeContext} from '.././../App'\n\nexport default function PostList({updatePost,fetching,addTodo, ...props}) {\n    \n    const [open, setOpen] = useState(false);\n    const [posts,setPost] = useState([])\n    const themeContext = useContext(ThemeContext) \n\n    useEffect( () => {\n   \n        if (props.posts.length > 0) {\n            setPost(props.posts)\n        }     \n    }, [props.posts,fetching])\n\n    const handleChange = (event,target) => {\n        if (target.checked) {\n            themeContext.setTheme('dark')\n        } else {\n            themeContext.setTheme('light')\n        }\n    }\n  \n    return ( \n         <div className={styles.list}>\n             <Dimmer active={fetching === true} inverted>\n                        <Loader size=\"mini\">Loading...</Loader>\n                </Dimmer>\n             <div className={styles.title}>\n                <div className=\"theme\">\n                    <label >Dark theme</label>\n                    <Radio toggle onChange={handleChange} />\n                </div>\n                 <h3>TodoList</h3>\n                 <Modal\n                    onClose={() => setOpen(false)}\n                    onOpen={() => setOpen(true)}\n                    open={open}\n                    trigger={<Button>Create Task</Button>}\n                >\n                <Modal.Header>Create new task</Modal.Header>\n                <Modal.Content image>\n                    { open && <Form setOpen={setOpen} addTodo={addTodo}/> }\n                </Modal.Content>\n                </Modal>\n             </div>\n            <List celled >\n                { posts.map( post => <TodoItem  key={post.id} updatePost={updatePost} {...post}/>) }\n            </List>\n         </div>\n    )\n}\n","import {useState, useEffect}from 'react'\nimport apiClient from '../apiClient'\n\nexport default function PostProvider(props) {\n    const [fetching,isFetching] =  useState(false)\n    const [data,setData] = useState({\n        posts:[],\n        activeId:''\n})\nuseEffect( () => {\n\n  if (data.posts.length === 0) {\n    apiClient.get('/todos').\n    then( res => {\n        setData({...data, posts:res.data})\n    })\n  }\n  \n}, []);\nconst addTodo = (todo) => {\n      isFetching(true);\n      apiClient.post('/todos',todo)\n      .then( (response) => {\n        const todo = response.data;\n        const posts = [...data.posts];\n        posts.unshift(todo);\n        isFetching(false)\n        setData({...data,posts})\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n}\n\nconst updatePost = (id, status) => {\n    setData({...data, activeId:id});\n     apiClient.patch(`/todos/${id}`, {name:status})\n     .then(res => {\n        const updatedPosts = data.posts.map( (post) => {\n            if (post.id === id) {\n                post.completed = status;\n            }\n            return post;\n        });\n        setData({...data,updatedPosts})     \n     })\n     .catch(error => {\n        console.log(error);\n      })\n}\n  return props.children(data.posts, updatePost,addTodo, fetching)\n}\n","import React, { useState} from 'react'; \nimport './App.css';\nimport PostList from './components/PostsList/PostList';\nimport PostProvider from './components/PostsList/PostProvider';\n\nexport const ThemeContext = React.createContext();\n\nconst App = () => {\n  const [theme,setTheme] = useState('light')\n  return (\n    <ThemeContext.Provider value={{theme, setTheme}}>\n      <div className={`App ${theme}`}>\n        <PostProvider>\n          { (posts,updatePost,addTodo,fetching) => <PostList  fetching={fetching} updatePost={updatePost}  posts={posts} addTodo={addTodo}/> }\n        </PostProvider>\n      </div>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs\":\"Form_inputs__m9Eq4\",\"select\":\"Form_select__31qyN\",\"user\":\"Form_user__1B5pk\",\"errorMsg\":\"Form_errorMsg__1f2yI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TodoItem_item__2olry\",\"itemTitle\":\"TodoItem_itemTitle__ni7aW\",\"itemContent\":\"TodoItem_itemContent__2praX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"PostList_list__30Rk-\",\"title\":\"PostList_title__20MXp\"};"],"sourceRoot":""}