(this["webpackJsonpanother-todo-list"]=this["webpackJsonpanother-todo-list"]||[]).push([[0],{170:function(e,t,a){e.exports=a(308)},176:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),s=(a(175),a(12)),i=(a(176),a(32)),l=a(321),u=a(316),m=a(323),d=a(318),f=a(309),p=a(319),b=a(69),O=a(9),j=a(146),E=a.n(j).a.create({baseURL:" https://jsonplaceholder.typicode.com"});function v(e){var t=Object(n.useState)({users:[]}),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){0===r.users.length&&E.get("/users").then((function(e){var t=e.data.map((function(e){var t={};return t.key=e.id,t.value=e.name,t.text=e.name,t}));c(Object(O.a)(Object(O.a)({},r),{},{users:t}))}))}),[]),e.children(r.users)}var h=a(315),g=a(317),_=a(48),T=a.n(_);function k(e){var t=e.setOpen,a=e.addTodo,c=(Object(i.a)(e,["setOpen","addTodo"]),Object(n.useState)({title:"",user:"",userId:"",error:!1,errorField:"",errorMsg:""})),o=Object(s.a)(c,2),l=o[0],u=o[1],m=function(e){if(e.preventDefault(),!l.user)return u(Object(O.a)(Object(O.a)({},l),{},{error:!0,errorField:"user",errorMsg:"This field is required"}));!function(){var e=Object(O.a)({},l),n=e.userId,r=e.title,c=Object.assign({},{userId:n,title:r,completed:!1});t(!1),a(c)}()},p=function(e,t){var a=t.options.filter((function(e){return e.text===t.value}))[0].key;u(Object(O.a)(Object(O.a)({},l),{},{user:t.value,userId:a}))};return Object(n.useEffect)((function(){u(Object(O.a)(Object(O.a)({},l),{},{error:!1,errorField:"",errorMsg:""}))}),[l.user]),r.a.createElement("form",{onSubmit:function(e){m(e)}},r.a.createElement("div",{className:"inputs"},r.a.createElement(h.a,{className:T.a.inputs,value:l.text,onChange:function(e){!function(e){var t=e.name,a=e.value;Object(i.a)(e,["name","value"]);u(Object(O.a)(Object(O.a)({},l),{},Object(b.a)({},t,a)))}(e.target)},name:"title",placeholder:"What need to do?",required:!0})),r.a.createElement("div",{className:"inputs"},r.a.createElement(v,null,(function(e){return r.a.createElement(g.a,{onChange:p,className:"".concat(T.a.select," ").concat("user"===l.errorField?T.a.user:""),name:"user",placeholder:"Assign to",options:e,value:l.user,required:!0})})),l.error&&"user"===l.errorField&&r.a.createElement("span",{className:T.a.errorMsg},l.errorMsg)),r.a.createElement("div",{className:"btn-area"},r.a.createElement(d.a.Actions,null,r.a.createElement(f.a,{color:"black",onClick:function(){return t(!1)}},"Cancel"),r.a.createElement(f.a,{content:"Save",labelPosition:"right",icon:"checkmark",positive:!0}))))}var C=a(98),N=a.n(C),I=a(77),P=a.n(I),S=a(25);function F(e){var t=e.updatePost,a=e.id,c=e.completed,o=e.title,m=(Object(i.a)(e,["updatePost","id","completed","title"]),Object(n.useState)(!1)),d=Object(s.a)(m,2),f=d[0],b=d[1];return Object(n.useEffect)((function(){b(!1)}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Item,{className:P.a.item,onClick:function(){!function(e,a){b(!0),t(e,a)}(a,!c)}},r.a.createElement(l.a,{active:!0===f,inverted:!0},r.a.createElement(u.a,{size:"mini"},"Loading...")),r.a.createElement("div",{className:"status"},c?r.a.createElement(S.a,{name:"chevron circle down"}):""),r.a.createElement(p.a.Content,{className:P.a.itemContent},r.a.createElement("span",{className:P.a.itemTitle},o),r.a.createElement(S.a,{name:"trash"}))))}function x(e){var t=e.updatePost,a=e.fetching,c=e.addTodo,o=Object(i.a)(e,["updatePost","fetching","addTodo"]),b=Object(n.useState)(!1),O=Object(s.a)(b,2),j=O[0],E=O[1],v=Object(n.useState)([]),h=Object(s.a)(v,2),g=h[0],_=h[1],T=Object(n.useContext)(L);Object(n.useEffect)((function(){o.posts.length>0&&_(o.posts)}),[o.posts,a]);return r.a.createElement("div",{className:N.a.list},r.a.createElement(l.a,{active:!0===a,inverted:!0},r.a.createElement(u.a,{size:"mini"},"Loading...")),r.a.createElement("div",{className:N.a.title},r.a.createElement("div",{className:"theme"},r.a.createElement("label",null,"Dark theme"),r.a.createElement(m.a,{toggle:!0,onChange:function(e,t){t.checked?T.setTheme("dark"):T.setTheme("light")}})),r.a.createElement("h3",null,"TodoList"),r.a.createElement(d.a,{onClose:function(){return E(!1)},onOpen:function(){return E(!0)},open:j,trigger:r.a.createElement(f.a,null,"Create Task")},r.a.createElement(d.a.Header,null,"Create new task"),r.a.createElement(d.a.Content,{image:!0},j&&r.a.createElement(k,{setOpen:E,addTodo:c})))),r.a.createElement(p.a,{celled:!0},g.map((function(e){return r.a.createElement(F,Object.assign({key:e.id,updatePost:t},e))}))))}var M=a(159);function y(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)({posts:[],activeId:""}),i=Object(s.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){0===l.posts.length&&E.get("/todos").then((function(e){u(Object(O.a)(Object(O.a)({},l),{},{posts:e.data}))}))}),[]);return e.children(l.posts,(function(e,t){u(Object(O.a)(Object(O.a)({},l),{},{activeId:e})),E.patch("/todos/".concat(e),{name:t}).then((function(a){var n=l.posts.map((function(a){return a.id===e&&(a.completed=t),a}));u(Object(O.a)(Object(O.a)({},l),{},{updatedPosts:n}))})).catch((function(e){console.log(e)}))}),(function(e){c(!0),E.post("/todos",e).then((function(e){var t=e.data,a=Object(M.a)(l.posts);a.unshift(t),c(!1),u(Object(O.a)(Object(O.a)({},l),{},{posts:a}))})).catch((function(e){console.log(e)}))}),r)}var L=r.a.createContext(),q=function(){var e=Object(n.useState)("light"),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(L.Provider,{value:{theme:a,setTheme:c}},r.a.createElement("div",{className:"App ".concat(a)},r.a.createElement(y,null,(function(e,t,a,n){return r.a.createElement(x,{fetching:n,updatePost:t,posts:e,addTodo:a})}))))};a(307);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))},48:function(e,t,a){e.exports={inputs:"Form_inputs__m9Eq4",select:"Form_select__31qyN",user:"Form_user__1B5pk",errorMsg:"Form_errorMsg__1f2yI"}},77:function(e,t,a){e.exports={item:"TodoItem_item__2olry",itemTitle:"TodoItem_itemTitle__ni7aW",itemContent:"TodoItem_itemContent__2praX"}},98:function(e,t,a){e.exports={list:"PostList_list__30Rk-",title:"PostList_title__20MXp"}}},[[170,1,2]]]);
//# sourceMappingURL=main.b2ea1906.chunk.js.map